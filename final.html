<!DOCTYPE html>
<!--[if IE 9]><html class="lt-ie10" lang="en" > <![endif]-->
<html class="no-js" lang="en" >

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="Shortcut Icon" href="favicon3.ico" type="image/x-icon">
		<title>Beth's UNM Geography 485L Home Page</title>
		<link rel="stylesheet" type="text/css" href="css/foundation.css"/>
		<link rel="stylesheet" type="text/css" href="css/normalize.css" />
		<link rel="stylesheet" type="text/css" href="css/homepage.css" />
		<script src="js/vendor/modernizr.js"></script>

		<script type="text/javascript" src="http://openlayers.org/api/OpenLayers.js"></script>
		<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>

		<style>
			.answer li {

				/*margin-top: 20px;*/
				margin-bottom: 12px;
			}
			#mapdiv {
				width: 100%;
				height: 600px;
			}
		</style>
		<script type="text/javascript">
			// define global variables
			// define global variables
			var lon = -106.58565902709;
			var lat = 35.076740741731;
			var zoom = 13;
			var myProjection = new OpenLayers.Projection("EPSG:4326")
			var map;
			var Layers = new Object();
			var bmngLayer, countiesLayer, indlandLayer, federallandsLayer;

			// =============== Initialization function ===================
			function init() {

				map = new OpenLayers.Map('mapdiv', {
					numZoomLevels : 21, // default=16
					units : "m"
				});

				// =========== USGS National Map WMS ======

				// from http://basemap.nationalmap.gov/ArcGIS/services/USGSImageryTopo/MapServer/WMSServer?request=GetCapabilities&service=WMS
				Layers.usImagery = new OpenLayers.Layer.WMS("US Topo Tile Service - USGS", "http://basemap.nationalmap.gov/arcgis/services/USGSTopo/MapServer/WmsServer?", {
					layers : "0",
					version : '1.3.0',
					transparent : 'TRUE',
					opacity : .50
				}, {
					isBaseLayer : true
				});
				map.addLayer(Layers.usImagery);


				var a5Contour = new OpenLayers.Layer.WMS("Albuquerque Contours", "http://geog485.unm.edu:8080/geoserver/s_edavis/wms?", {
					layers : "35106-A5_CONT",
					transparent : true
				}, {
					singleTile : true
				});
				map.addLayer(a5Contour);

				var a6Contour = new OpenLayers.Layer.WMS("West Albuquerque Contours", "http://geog485.unm.edu:8080/geoserver/s_edavis/wms?", {
					layers : "35106-A6_CONT",
					transparent : true
				}, {
					singleTile : true
				});
				map.addLayer(a6Contour);

				var tigerRoads = new OpenLayers.Layer.WMS("TIGER 2006 Roads", "http://geog485.unm.edu:8080/geoserver/s_edavis/wms?", {
					layers : "tgr2006se_bern_lka",
					transparent : true
				}, {
					singleTile : true,
					visibility : false
				});
				map.addLayer(tigerRoads);

				var a5bounds = new OpenLayers.Layer.WMS("Albuquerque Boundary", "http://geog485.unm.edu:8080/geoserver/s_edavis/wms?", {
					layers : "35106-A5",
					transparent : true
				}, {
					singleTile : true,
					visibility : false
				});
				map.addLayer(a5bounds);

				var a6bounds = new OpenLayers.Layer.WMS("West Albuquerque Boundary", "http://geog485.unm.edu:8080/geoserver/s_edavis/wms?", {
					layers : "35106-A6",
					transparent : true
				}, {
					singleTile : true,
					visibility : false
				});
				map.addLayer(a6bounds);

				var redContour = new OpenLayers.Layer.WMS("Red-colored Contours", "http://geog485.unm.edu:8080/geoserver/s_edavis/wms?", {
					layers : "35106-A5_CONT_styled",
					transparent : true
				}, {
					singleTile : true,
					visibility : false
				});
				map.addLayer(redContour);

				var oliveContour = new OpenLayers.Layer.WMS("Olive-colored Contours", "http://geog485.unm.edu:8080/geoserver/s_edavis/wms?", {
					layers : "35106-A6_CONT_styled",
					transparent : true
				}, {
					singleTile : true,
					visibility : false
				});
				map.addLayer(oliveContour);

				// =========== Create and add a Vector layer to the map that that will contain the created features ====
				/*Layers.localFeatures = new OpenLayers.Layer.Vector('Local Features');
				 map.addLayer(Layers.localFeatures);
				 Layers.highestElevation = new OpenLayers.Layer.Vector('Highest Points of Elevation');
				 map.addLayer(Layers.highestElevation);

				 // =========== Create Some Styles ==============
				 // Define some Styles
				 SheltersStyle = {
				 pointRadius : 6,
				 fillColor : "#FF9900",
				 fillOpacity : .30,
				 strokeOpacity : 1,
				 strokeColor : "#FF9900"
				 };
				 ClingmanStyle = {
				 pointRadius : 14,
				 fillColor : "#d8fe08",
				 fillOpacity : .75,
				 strokeOpacity : 1,
				 strokeColor : "#d8fe08",
				 label : "Clingman's Dome - 6,643 feet",
				 labelAlign : "lb",
				 labelXOffset : 18,
				 labelYOffset : -10
				 };
				 GuyotStyle = {
				 pointRadius : 14,
				 fillColor : "#08fef7",
				 fillOpacity : .75,
				 strokeOpacity : 1,
				 strokeColor : "#08fef7",
				 label : "Mount Guyot - 6,621 feet",
				 labelAlign : "lb",
				 labelXOffset : 20,
				 labelYOffset : -15
				 };
				 WashingtonStyle = {
				 pointRadius : 14,
				 fillColor : "#0881fe",
				 fillOpacity : .75,
				 strokeOpacity : 1,
				 strokeColor : "#0881fe",
				 label : "Mount Washington - 6,288 feet",
				 labelAlign : "rb",
				 labelXOffset : -20,
				 labelYOffset : 15
				 };
				 RoanHighStyle = {
				 pointRadius : 14,
				 fillColor : "#fe08ce",
				 fillOpacity : .75,
				 strokeOpacity : 1,
				 strokeColor : "#fe08ce",
				 label : "Roan High Knob shelter - 6,285 feet",
				 labelAlign : "lb",
				 labelXOffset : 15,
				 labelYOffset : -10
				 };
				 DamascusStyle = {
				 pointRadius : 14,
				 fillColor : "#fe1708",
				 fillOpacity : .75,
				 strokeOpacity : 1,
				 strokeColor : "#fe1708",
				 label : "Damascus, VA - Trail Town, USA",
				 labelAlign : "rb",
				 labelXOffset : -20
				 };

				 // =========== Create Some Geometries & Features ==============

				 // Key Coordinates (Geometries)

				 var CoordClingman = new OpenLayers.Geometry.Point(-83.498496, 35.562872);
				 var CoordGuyot = new OpenLayers.Geometry.Point(-71.533968, 44.168121);
				 var CoordWash = new OpenLayers.Geometry.Point(-71.30367, 44.27067);
				 var CoordRoan = new OpenLayers.Geometry.Point(-82.12222, 36.10506);
				 var CoordDamascus = new OpenLayers.Geometry.Point(-81.786944, 36.633889);

				 // Corresponding Features

				 var PointClingman = new OpenLayers.Feature.Vector(CoordClingman, null, ClingmanStyle);
				 var PointGuyot = new OpenLayers.Feature.Vector(CoordGuyot, null, GuyotStyle);
				 var PointWash = new OpenLayers.Feature.Vector(CoordWash, null, WashingtonStyle);
				 var PointRoan = new OpenLayers.Feature.Vector(CoordRoan, null, RoanHighStyle);
				 var PointDamascus = new OpenLayers.Feature.Vector(CoordDamascus, null, DamascusStyle);

				 Layers["localFeatures"].addFeatures([PointDamascus]);
				 Layers["highestElevation"].addFeatures([PointClingman, PointGuyot, PointWash, PointRoan]);

				 // =========== KML Layer Addition ===============

				 var kmllayer = new OpenLayers.Layer.Vector("Trail Shelters", {
				 style : SheltersStyle,
				 strategies : [new OpenLayers.Strategy.Fixed()],
				 protocol : new OpenLayers.Protocol.HTTP({
				 url : "data/atc_shelter_120211.kml",
				 format : new OpenLayers.Format.KML({
				 extractStyles : false,
				 extractAttributes : true,
				 maxDepth : 2
				 })
				 })
				 });

				 //Add a selector control to the kmllayer with popup functions
				 var controls = {
				 selector : new OpenLayers.Control.SelectFeature(kmllayer, {
				 onSelect : createPopup,
				 onUnselect : destroyPopup
				 })
				 };

				 function createPopup(feature) {
				 feature.popup = new OpenLayers.Popup.FramedCloud("pop", feature.geometry.getBounds().getCenterLonLat(), null, '<div class="markerContent">' + feature.attributes.name + '</div>', null, true, function() {
				 controls['selector'].unselectAll();
				 });
				 //feature.popup.closeOnMove = true;
				 map.addPopup(feature.popup);
				 }

				 function destroyPopup(feature) {
				 feature.popup.destroy();
				 feature.popup = null;
				 }

				 map.addControl(controls['selector']);
				 controls['selector'].activate();

				 map.addLayer(kmllayer);*/

				map.setCenter(new OpenLayers.LonLat(lon, lat), zoom);

				map.addControl(new OpenLayers.Control.LayerSwitcher());
				map.addControl(new OpenLayers.Control.MousePosition());

			};

			// =============== End of Initialization Function ============

		</script>
	</head>
	<body onload="init()">
		<!-- Nav Bar -->

		<div class="row">
			<div class="large-12 columns">
				<div class="nav-bar right">
					<ul class="button-group radius round">
						<li>
							<a href="index.html" class="button">Home</a>
						</li>
						<li>
							<a href="milestones.html" class="button">Milestones</a>
						</li>
						<li>
							<a href="deepdives.html" class="button">Deep Dives</a>
						</li>
						<li>
							<a href="exams.html" class="button">Exams</a>
						</li>
					</ul>
				</div>
				<br />
				<h3>Geography 485L Final</h3>
				<hr />
			</div>
		</div>

		<!-- End Nav -->

		<!-- Main Page Content and Sidebar -->

		<div class="row">

			<!-- Main Blog Content -->
			<div class="large-12 columns">
				<h3 class="bsection">Week 16 <small> May 14, 2014</small></h3>

				<p class="question">
					Question 1
				</p>
				<div class="question-text">
					<p>
						Provide the first 5 lines of the output from gdalinfo or ogrinfo for each of the datasets.
					</p>

				</div>
				<div class="answer">
					<ol>
						<li>
							<code>
								bethdavis$ gdalinfo 35106-A5.tif
								<br />
								Driver: GTiff/GeoTIFF
								<br />
								Files: 35106-A5.tif
								<br />
								Size is 1169, 1411
								<br />
								Coordinate System is:
								<br />
								PROJCS["NAD83 / UTM zone 13N", ...]
							</code>
						</li>
						<li>
							<code>
								bethdavis$ gdalinfo 35106-A6.tif
								<br />
								Driver: GTiff/GeoTIFF
								<br />
								Files: 35106-A6.tif, 35106-A6.tif.aux.xml
								<br />
								Size is 1170, 1413
								<br />
								Coordinate System is:
								<br />
								PROJCS["NAD83 / UTM zone 13N", ...]
							</code>
						</li>
						<li>
							<code>
								bethdavis$ ogrinfo 35106-A5_CONT.shp -al
								<br />
								INFO: Open of `35106-A5_CONT.shp'
								using driver `ESRI Shapefile' successful.
								<br />

								Layer name: 35106-A5_CONT
								<br />
								Geometry: 3D Line String
								<br />
								Feature Count: 1439
								<br />
								Extent: (-106.625000, 35.032739) - (-106.524163, 35.120146)
							</code>
						</li>
						<li>
							<code>
								bethdavis$ ogrinfo 35106-A6_CONT.shp -al
								<br />
								INFO: Open of `35106-A6_CONT.shp'
								using driver `ESRI Shapefile' successful.
								<br />

								Layer name: 35106-A6_CONT
								<br />
								Geometry: 3D Line String
								<br />
								Feature Count: 686
								<br />
								Extent: (-106.647269, 35.032841) - (-106.624999, 35.120146)

							</code>
						</li>
						<li>
							<code>
								bethdavis$ ogrinfo tgr2006se_bern_lka.shp -al
								<br />
								INFO: Open of `tgr2006se_bern_lka.shp'
								using driver `ESRI Shapefile' successful.
								<br />

								Layer name: tgr2006se_bern_lka
								<br />
								Geometry: Line String
								<br />
								Feature Count: 8451
								<br />
								Extent: (-106.647182, 35.032764) - (-106.524194, 35.120146)
							</code>
						</li>
					</ol>
				</div>

				<p class="question">
					Question 2
				</p>
				<div class="question-text">
					<p>
						Layer Previews:
					</p>

				</div>

				<div class="row">
					<div class="small-4 columns">
						<p>
							<a href="http://geog485.unm.edu:8080/geoserver/s_edavis/wms?service=WMS&version=1.1.0&request=GetMap&layers=s_edavis:35106-A5&styles=&bbox=351675.0,3874050.0,363365.0,3888160.0&width=424&height=512&srs=EPSG:26913&format=application/openlayers">35106-A5</a>
							<br />
							Click to see full size image.
						</p><a href="img/Preview_A5.png"><img src="img/Preview_A5.png" /></a>
					</div>
					<div class="small-4 columns">
						<p>
							<a href="http://geog485.unm.edu:8080/geoserver/s_edavis/wms?service=WMS&version=1.1.0&request=GetMap&layers=s_edavis:35106-A6&styles=&bbox=340275.0,3874220.0,351975.0,3888350.0&width=423&height=512&srs=EPSG:26913&format=application/openlayers">35106-A6</a>
							<br />
							Click to see full size image.
						</p><a href="img/Preview_A6.png"><img src="img/Preview_A6.png" /></a>
					</div>
					<div class="small-4 columns">
						<p>
							<a href="http://geog485.unm.edu:8080/geoserver/s_edavis/wms?service=WMS&version=1.1.0&request=GetMap&layers=s_edavis:35106-A6_CONT&styles=&bbox=-106.64726859964829,35.03284096294705,-106.62499903757086,35.1201464727924&width=130&height=512&srs=EPSG:4326&format=application/openlayers">35106-A6_CONT</a>
							<br>
							Click to see full size image.

						</p><a href="img/Preview_A6contours.png"><img src="img/Preview_A6contours.png" /></a>
					</div>

				</div>
				<br />
				<div class="row">
					<div class="small-4 columns">
						<p>
							<a href="http://geog485.unm.edu:8080/geoserver/s_edavis/wms?service=WMS&version=1.1.0&request=GetMap&layers=s_edavis:35106-A5_CONT&styles=&bbox=-106.62499983396718,35.03273902647254,-106.52416308305456,35.1201464727924&width=512&height=443&srs=EPSG:4326&format=application/openlayers">35106-A5_CONT</a>
							<br />
							Click to see full size image.
						</p><a href="img/Preview_A5contours.png"><img src="img/Preview_A5contours.png" /></a>
					</div>
					<div class="small-4 columns">
						<p>
							<a href="http://geog485.unm.edu:8080/geoserver/s_edavis/wms?service=WMS&version=1.1.0&request=GetMap&layers=s_edavis:tgr2006se_bern_lka&styles=&bbox=-106.64718153427467,35.03276432599712,-106.52419425995093,35.1201464727924&width=512&height=363&srs=EPSG:4326&format=application/openlayers">tgr2006se_bern_lka</a>
							<br>
							Click to see full size image.

						</p><a href="img/Preview_roads.png"><img src="img/Preview_roads.png" /></a>
					</div>

					<div class="small-4 columns">
						<p></p>
					</div>
				</div>
				<br />
				<br />
				<p class="question-text">
					Layers added to QGIS as WMS:
				</p>
				<div class="row">
					<div class="small-4 columns">
						<p>
							<a href="http://geog485.unm.edu:8080/geoserver/s_edavis/wms?&request=GetCapabilities">35106-A6_CONT</a>
							<br>
							Click to see full size image.

						</p><a href="img/A6_contours.png"><img src="img/A6_contours.png" /></a>
					</div>
					<div class="small-4 columns">
						<p>
							<a href="http://geog485.unm.edu:8080/geoserver/s_edavis/wms?&request=GetCapabilities">35106-A5_CONT</a>
							<br />
							Click to see full size image.
						</p><a href="img/A5_contours.png"><img src="img/A5_contours.png" /></a>
					</div>
					<div class="small-4 columns">
						<p>
							<a href="http://geog485.unm.edu:8080/geoserver/s_edavis/wms?&request=GetCapabilities">tgr2006se_bern_lka</a>
							<br />
							Click to see full size image.
						</p><a href="img/tigerroads.png"><img src="img/tigerroads.png" /></a>
					</div>
				</div>
				<br />

				<p class="question">
					Question 3
				</p>
				<div class="question-text">
					<p>
						Openlayers Web Map with all five layers:
					</p>

				</div>
				<!--<div class="answer">
				<p>
				<code>
				$ cs2cs +proj=latlon +datum=WGS84 +to +proj=utm +zone=13 +datum=NAD83
				<br />
				-105.939670 35.682180
				<br />
				414970.04	3949105.23 0.00
				<br />
				-107.930153 34.891983
				<br />
				232227.14	3864983.25 0.00
				</code>
				</p>
				</div>-->
				<div id="mapdiv">

				</div>
				<br />
				<br />
				<p class="question">
					Question 4
				</p>
				<div class="question-text">
					<p>
						<ol>
							<li>
								Create two new layers based on two of the stores added in 2) above.
							</li>
							<li>
								Create two custom styles, one for each of the two layers and make those the default style for the
								two new layers
							</li>
							<li>
								Add these two styled layers to the mapping client generated for question 4. Provide the layer names for your customized layers in your writeup.
							</li>
						</ol>
					</p>

				</div>
				<div class="answer">
					<p>
						The names of the styled layers are 35106-A5_CONT_styled and 35106-A6_CONT_styled.
					</p>
				</div>

			</div>
		</div>
		<!-- End Main Content and Sidebar -->

		<!-- Footer -->

		<footer class="row">
			<div class="large-12 columns">
				<hr />
				<div class="row">
					<div class="large-6 columns">
						<p>
							© Beth Davis 2014.
						</p>
					</div>
					<div class="large-6 columns">
						<ul class="inline-list right">
							<li>
								<a href="index.html">Home</a>
							</li>
							<li>
								<a href="milestones.html">Milestones</a>
							</li>
							<li>
								<a href="deepdives.html">Deep Dives</a>
							</li>
							<li>
								<a href="exams.html">Exams</a>
							</li>

						</ul>
					</div>
				</div>
			</div>
		</footer>

		<script src="js/vendor/jquery.js"></script>
		<script src="js/foundation.min.js"></script>
		<script>
			$(document).foundation();
		</script>
	</body>
</html>