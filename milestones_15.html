<!DOCTYPE html>
<!--[if IE 9]><html class="lt-ie10" lang="en" > <![endif]-->
<html class="no-js" lang="en" >

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="Shortcut Icon" href="favicon3.ico" type="image/x-icon">
		<title>Beth's UNM Geography 485L Home Page</title>
		<link rel="stylesheet" type="text/css" href="css/foundation.css"/>
		<link rel="stylesheet" type="text/css" href="css/normalize.css" />
		<link rel="stylesheet" type="text/css" href="css/homepage.css" />

		<script src="js/vendor/modernizr.js"></script>
		<!--OpenLayers stuff-->

		<script type="text/javascript" src="http://openlayers.org/api/OpenLayers.js"></script>
		<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>
		<style>
			.answer li {

				/*margin-top: 20px;*/
				margin-bottom: 12px;
			}
			#finalmap {
				width: 100%;
				height: 750px;
				margin: 0 auto;
			}
		</style>

		<script type="text/javascript">
			// define global variables
			// define global variables
			var lon = -104.0079919584;
			var lat = 32.971828979443;
			var zoom = 9;
			var myProjection = new OpenLayers.Projection("EPSG:4326")
			var map;
			var Layers = new Object();

			// =============== Initialization function ===================
			function init() {

				map = new OpenLayers.Map('finalmap', {
					numZoomLevels : 21, // default=16
					units : "m"
				});

				// =========== USGS National Map WMS ======

				// from http://basemap.nationalmap.gov/ArcGIS/services/USGSImageryTopo/MapServer/WMSServer?request=GetCapabilities&service=WMS
				Layers.usImagery = new OpenLayers.Layer.WMS("US Topo Tile Service - USGS", "http://basemap.nationalmap.gov/arcgis/services/USGSTopo/MapServer/WmsServer?", {
					layers : "0",
					version : '1.3.0',
					transparent : 'TRUE',
					opacity : .50
				}, {
					isBaseLayer : true
				});
				map.addLayer(Layers.usImagery);
				
				var boundary = new OpenLayers.Layer.WMS("New Mexico State Boundary", "http://geog485.unm.edu:8080/geoserver/s_edavis/wms?", {
					layers: "tl_2010_35_state10",
					transparent: true
				}, {
					singleTile: true,
					visibility: true
				});
				map.addLayer(boundary);

				var basins = new OpenLayers.Layer.WMS("Shale Basins", "http://geog485.unm.edu:8080/geoserver/s_edavis/wms?", {
					layers : "NM_ShaleBasins_EIA_May2011",
					transparent : true
				}, {
					singleTile : true,
					visibility : true
				});
				

				var plays = new OpenLayers.Layer.WMS("Shale Plays", "http://geog485.unm.edu:8080/geoserver/s_edavis/wms?", {
					layers : "NM_ShalePlays_EIA_May2011",
					transparent : true
				}, {
					singleTile : true,
					visibility : true
				});
				
				
				var wells = new OpenLayers.Layer.WMS("Oil and Gas Wells", "http://geog485.unm.edu:8080/geoserver/s_edavis/wms?", {
					layers : "NM_OG_022014",
					transparent : true
				}, {
					singleTile : true,
					visibility : true
				});
				map.addLayers([basins, plays, wells]);
				
				var earthquakes = new OpenLayers.Layer.WMS("Earthquakes 1970-2014", "http://geog485.unm.edu:8080/geoserver/s_edavis/wms?", {
					layers : "NM_earthquakes",
					transparent : true
				}, {
					singleTile : true,
					visibility : true
				});
				
				/*var earthquakes = new OpenLayers.Layer.Vector("Earthquakes 1970-2014", {
					//style: SheltersStyle,
					strategies : [new OpenLayers.Strategy.Fixed()],
					protocol : new OpenLayers.Protocol.HTTP({
						url : "http://geog485.unm.edu:8080/geoserver/s_edavis/wms/kml?layers=s_edavis:NM_earthquakes",
						format : new OpenLayers.Format.KML({
							//extractStyles : true,
							extractAttributes : true,
							maxDepth : 2
						})
					})
				});
				
				//Add a selector control to the earthquake layer with popup functions
				var controls = {
					selector : new OpenLayers.Control.SelectFeature(earthquakes, {
						onSelect : createPopup,
						onUnselect : destroyPopup
					})
				};

				function createPopup(feature) {
					feature.popup = new OpenLayers.Popup.FramedCloud("pop", feature.geometry.getBounds().getCenterLonLat(), null, '<div class="markerContent">' + feature.attributes.time + '</div>', null, true, function() {
						controls['selector'].unselectAll();
					});
					//feature.popup.closeOnMove = true;
					map.addPopup(feature.popup);
				}

				function destroyPopup(feature) {
					feature.popup.destroy();
					feature.popup = null;
				}


				map.addControl(controls['selector']);
				controls['selector'].activate();*/
				map.addLayer(earthquakes);




				var contamination = new OpenLayers.Layer.WMS("Pit Contaminations (2008)", "http://geog485.unm.edu:8080/geoserver/s_edavis/wms?", {
					layers : "NM_pit_contam",
					transparent : true
				}, {
					singleTile : true,
					visibility : false
				});
				map.addLayer(contamination);

				var huc8 = new OpenLayers.Layer.WMS("HUC-8 Watersheds", "http://geog485.unm.edu:8080/geoserver/s_edavis/wms?", {
					layers : "wbdhu8_a_nm",
					transparent : true
				}, {
					singleTile : true,
					visibility : false
				});
				map.addLayer(huc8);
				
				


				map.setCenter(new OpenLayers.LonLat(lon, lat), zoom);
				//var initExtent = new OpenLayers.Bounds(-105.34145753457, 31.940487426709, -102.67452638223, 34.003170532177);
				//map.zoomToExtent(initExtent, false);

				map.addControl(new OpenLayers.Control.LayerSwitcher());
				map.addControl(new OpenLayers.Control.MousePosition());

			}

			// =============== End of Initialization Function ============

		</script>

	</head>
	<body onload="init()">
		<!-- Nav Bar -->
		<div id="divInfo" style="position:absolute;top:10;left:60;background-color:white;border:4;border-style:solid;border-color:blue;padding:5;display:none;z-index:3000">
			info
		</div>

		<div class="row">
			<div class="large-12 columns">
				<div class="nav-bar right">
					<ul class="button-group radius round">
						<li>
							<a href="index.html" class="button">Home</a>
						</li>
						<li>
							<a href="milestones.html" class="button">Milestones</a>
						</li>
						<li>
							<a href="deepdives.html" class="button">Deep Dives</a>
						</li>
						<li>
							<a href="exams.html" class="button">Exams</a>
						</li>
					</ul>
				</div>
				<br />
				<h3>Geography 485L Milestone Page<!--<small>This is my blog. It's awesome.</small>--></h3>
				<hr />
			</div>
		</div>

		<!-- End Nav -->

		<!-- Main Page Content and Sidebar -->

		<div class="row">

			<!-- Main Blog Content -->
			<div class="large-12 columns">
				<h3 class="bsection">Week 15 <small> April 30, 2014</small></h3>

				<p>
					<b>Oil and Gas Wells in Southeast New Mexico</b>
					<br />
					In the United States, the number of earthquakes has increased dramatically over the past several years.  USGS scientists have found this increase in seismicity at some locations coincides with the injection of wastewater, a byproduct of oil and gas production, into disposal wells specifically designed for this purpose (<a href="http://www.usgs.gov/blogs/features/usgs_top_story/man-made-earthquakes/">USGS, 2014</a>). This map depicts the oil and gas wells located in New Mexico, along with locations for earthquakes since 1970. Since there is also a concern about groundwater supply contamination with the injection of wastewater into wells, layers containing information about pit contamination sites (2008) and HUC-8 watershed boundaries are also available.  Please scroll around the map to view more features.
				</p>

				<div id='finalmap'></div>
				<br />
				<img src="http://geog485.unm.edu:8080/geoserver/s_edavis/ows?service=WMS&request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=NM_OG_022014" /> Oil and Gas Wells <small>(<a href="http://www.fractracker.org/">source</a>)</small><br />
				<img src="http://geog485.unm.edu:8080/geoserver/s_edavis/ows?service=WMS&request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=NM_earthquakes" /> Earthquakes 1970-2014 <small>(<a href="http://earthquake.usgs.gov/earthquakes/search/">source</a>)</small><br />
				<img src="http://geog485.unm.edu:8080/geoserver/s_edavis/ows?service=WMS&request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=NM_ShaleBasins_EIA_May2011" />Shale Basins - <small>broad depositional areas that may contain one or more shale plays. (<a href="http://www.fractracker.org/">source</a>)</small><br />
				<img src="http://geog485.unm.edu:8080/geoserver/s_edavis/ows?service=WMS&request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=NM_ShalePlays_EIA_May2011" />Shale Plays - <small>specific organic rich sedimentary rock formations, for which the possibility of extracting oil or natural gas is thought to be likely. (<a href="http://www.fractracker.org/">source</a>)</small><br />
				<img src="http://geog485.unm.edu:8080/geoserver/s_edavis/ows?service=WMS&request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=NM_pit_contam" />Pit Contamination Sites <small>(<a href="http://www.fractracker.org/">source</a>)</small><br />
				<img src="http://geog485.unm.edu:8080/geoserver/s_edavis/ows?service=WMS&request=GetLegendGraphic&format=image%2Fpng&width=20&height=20&layer=wbdhu8_a_nm" /> HUC-8 Watershed Boundary <small>(<a href="http://rgis.unm.edu/">source</a>)</small><br />
			</div>
			<!-- End Main Content and Sidebar -->

			<!-- Footer -->

			<footer class="row">
				<div class="large-12 columns">
					<hr />
					<div class="row">
						<div class="large-6 columns">
							<p>
								Â© Beth Davis 2014.
							</p>
						</div>
						<div class="large-6 columns">
							<ul class="inline-list right">
								<li>
									<a href="index.html">Home</a>
								</li>
								<li>
									<a href="milestones.html">Milestones</a>
								</li>
								<li>
									<a href="deepdives.html">Deep Dives</a>
								</li>

								<li>
									<a href="exams.html" >Exams</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</footer>

			<script src="js/vendor/jquery.js"></script>
			<script src="js/foundation.min.js"></script>
			<script>
				$(document).foundation();
			</script>
	</body>
</html>
